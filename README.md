# qt-subdirs-project-sample

[![ci](https://github.com/iamazeem/qt-subdirs-project-sample/actions/workflows/ci.yml/badge.svg?branch=main)](https://github.com/iamazeem/qt-subdirs-project-sample/actions/workflows/ci.yml)

Qt SUBDIRS Project Sample with multiple subprojects.

Tested with Qt 5.12.9. See the [CI workflow](.github/workflows/ci.yml).

## Source Directory Structure

```text
qt-subdirs-project-sample
├── cli
│   ├── include
│   │   └── test.hpp
│   ├── src
│   │   └── main.cpp
│   └── cli.pro
├── config
│   └── test.json
├── dynamiclib
│   ├── include
│   │   ├── dynamiclib_global.hpp
│   │   └── dynamiclib.hpp
│   ├── src
│   │   └── dynamiclib.cpp
│   └── dynamiclib.pro
├── gui
│   ├── qml
│   │   ├── main.qml
│   │   └── qml.qrc
│   ├── src
│   │   └── main.cpp
│   └── gui.pro
├── staticlib
│   ├── include
│   │   └── staticlib.hpp
│   ├── src
│   │   └── staticlib.cpp
│   └── staticlib.pro
├── common.pri
└── qt-subdirs-project-sample.pro
```

## Build Directory Structure

### Debug

```text
qt-subdirs-project-sample/build/debug
├── cli
│   ├── moc
│   ├── obj
│   │   └── main.o
│   ├── cli
│   └── Makefile
├── dynamiclib
│   ├── moc
│   ├── obj
│   │   └── dynamiclib.o
│   ├── libdynamiclib.so
│   └── Makefile
├── gui
│   ├── moc
│   ├── obj
│   │   ├── main.o
│   │   └── qrc_qml.o
│   ├── rcc
│   │   └── qrc_qml.cpp
│   ├── gui
│   ├── libdynamiclib.so
│   └── Makefile
├── staticlib
│   ├── obj
│   │   └── staticlib.o
│   ├── libstaticlib.a
│   └── Makefile
└── Makefile
```

### Release

```text
qt-subdirs-project-sample/build/release
├── cli
│   ├── moc
│   ├── obj
│   │   └── main.o
│   ├── cli
│   └── Makefile
├── dynamiclib
│   ├── moc
│   ├── obj
│   │   └── dynamiclib.o
│   ├── libdynamiclib.so
│   └── Makefile
├── gui
│   ├── moc
│   ├── obj
│   │   ├── main.o
│   │   ├── qmlcache_loader.o
│   │   └── qml_main_qml.o
│   ├── gui
│   ├── libdynamiclib.so
│   └── Makefile
├── staticlib
│   ├── obj
│   │   └── staticlib.o
│   ├── libstaticlib.a
│   └── Makefile
└── Makefile
```

For the `gui` project, the `libdynamiclib.so` is copied in the build directory.
And, the files generated by the `qmlcachegen` are removed in the post-link
stage.

See [gui.pro](./gui/gui.pro) for more details.

## License

[MIT](./LICENSE)
